<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions"
      xmlns:pri="http://primefaces.org/ui"
      xmlns:ad="http://byyd-tech.com/jsf/functions"
      template="/WEB-INF/templates/adminTemplate.xhtml">

<ui:param name="pageTitle" value="Verification codes"/>
<ui:param name="adminUser" value="#{adminAccountBean.user}"/>

<ui:define name="title">#{pageTitle}</ui:define>

<ui:define name="pageContent">
<h:panelGroup layout="block" rendered="#{!empty facesContext.maximumSeverity}">
    <div class="infoError">
    <div class="infoErrorImage"></div>
    <div class="infoErrorHeader">${msg['page.generic.error.label']}</div>
    <div class="infoContent">${msg['page.generic.error.box']}</div>
    </div>
</h:panelGroup>

<h2>#{pageTitle}</h2>
<ui:include src="/WEB-INF/includes/adminUserHeader.xhtml"/>
<hr/>

<pri:dataTable 
    id="vcTable" 
    var="row" 
    value="#{accountVerificationCodesBean.userVerificationCodes}" 
    paginator="true"
    rows="10"
    style="width:50%"
    paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
    rowsPerPageTemplate="10,20,50,100"
    styleClass="data">

  <f:facet name="header">#{pageTitle}</f:facet>

  <pri:column headerstyleClass="center" styleClass="center" sortBy="codeType">
    <f:facet name="header"><h:outputText value="Type" /></f:facet>
    <h:outputText value="#{row.codeType}"/>
  </pri:column>

  <pri:column headerstyleClass="center" styleClass="center" sortBy="code">
    <f:facet name="header"><h:outputText value="Code" /></f:facet>
    <h:outputText value="#{row.code}"/>
  </pri:column>

</pri:dataTable>
</ui:define>
</ui:composition>
